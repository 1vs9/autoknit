KIT_RAW_SDL_EVENTS = 1 ;

SubDir TOP ;
SubInclude TOP kit ;

MySubDir TOP ;

#---- build ----

PLAN_TRANSFERS_NAMES =
	plan_transfers
	plan_transfers-draw_beds
	plan_transfers-run_transfers
	plan_transfers-best_collapse
	plan_transfers-best_shift
	plan_transfers-best_expand
	plan_transfers-minimize_winding
	;

NAMES =
	Stitch
	ScheduleCost
	schedule
	embed_DAG
	$(PLAN_TRANSFERS_NAMES)
	;

AUTOKNIT_NAMES =
	init
	Interface
	load_obj
	;

#if $(OS) = NT {
#	NAMES += gl_shims ;
#}

LOCATE_TARGET = objs ; #put objects in 'objs' directory
Objects $(NAMES:S=.cpp) test_plan_transfers.cpp ;

LOCATE_TARGET = dist ; #put main in 'dist' directory
MainFromObjects schedule : $(NAMES:S=$(SUFOBJ)) ;

MainFromObjects test_plan_transfers : test_plan_transfers$(SUFOBJ) $(PLAN_TRANSFERS_NAMES:S=$(SUFOBJ)) ;

MyObjects $(AUTOKNIT_NAMES:S=.cpp) ;
MyMainFromObjects interface : $(AUTOKNIT_NAMES:S=$(SUFOBJ)) $(KIT_OBJECTS) ;
